<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="shelly"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0 http://eclipse.org/smarthome/schemas/thing-description-1.0.0.xsd">

	<thing-type id="shelly1">
		<label>Shelly1 (SHSW-1)</label>
		<description>Shelly1 device with single relay</description>
        <channel-groups>
            <channel-group id="relay1" typeId="relayChannel">
                <label>Relay</label>
            </channel-group>
            <channel-group id="meter1" typeId="v1Meter">
                <label>Meter</label>
            </channel-group>
        </channel-groups>

        <config-description-ref uri="thing-type:shelly:generic" />
	</thing-type>
    <thing-type id="shelly1pm">
        <label>Shelly1PM (SHSW-PM)</label>
        <description>Shelly1PM device with single relay and power meter</description>
        <channel-groups>
            <channel-group id="relay1" typeId="relayChannel">
                <label>Relay</label>
            </channel-group>
            <channel-group id="meter1" typeId="meter">
                <label>Meter</label>
            </channel-group>
        </channel-groups>

        <config-description-ref uri="thing-type:shelly:generic" />
    </thing-type>
	
    <thing-type id="shelly2-relay">
        <label>Shelly2 Relay (SHSW-21)</label>
        <description>Shelly2 device with two relays</description>

        <channel-groups>
            <channel-group id="relay1" typeId="relayChannel">
                <label>Relay 1</label>
            </channel-group>
            <channel-group id="relay2" typeId="relayChannel">
                <label>Relay 2</label>
            </channel-group>
            <channel-group id="meter1" typeId="meter">
                <label>Power Meter Channel 1</label>
            </channel-group>
        </channel-groups>

        <config-description-ref uri="thing-type:shelly:generic" />
    </thing-type>
    <thing-type id="shelly2-roller">
        <label>Shelly2 Roller (SHSW-21)</label>
        <description>Shelly2 in Roller Mode</description>

        <channel-groups>
            <channel-group id="roller1" typeId="rollerControl">
                <label>Roller Control</label>
            </channel-group>
            <channel-group id="meter1" typeId="meter">
                <label>Power Meter</label>
            </channel-group>
        </channel-groups>

        <config-description-ref uri="thing-type:shelly:generic" />
    </thing-type>

    <thing-type id="shelly25-relay">
        <label>Shelly2.5 Relay (SHSW-25)</label>
        <description>Shelly2.5 device with two relays, 2 meters</description>

        <channel-groups>
            <channel-group id="relay1" typeId="relayChannel">
                <label>Relay 1</label>
            </channel-group>
            <channel-group id="relay2" typeId="relayChannel">
                <label>Relay 2</label>
            </channel-group>
            <channel-group id="meter1" typeId="meter">
                <label>Power Meter Channel 1</label>
            </channel-group>
            <channel-group id="meter2" typeId="meter">
                <label>Power Meter Channel 2</label>
            </channel-group>
        </channel-groups>

        <config-description-ref uri="thing-type:shelly:generic" />
    </thing-type>
    <thing-type id="shelly25-roller">
        <label>Shelly2.5 Roller (SHSW-25)</label>
        <description>Shelly2 in Roller Mode</description>

        <channel-groups>
            <channel-group id="roller1" typeId="rollerControl">
                <label>Roller Control</label>
            </channel-group>
            <channel-group id="meter1" typeId="meter">
                <label>Power Meter</label>
            </channel-group>
        </channel-groups>

        <config-description-ref uri="thing-type:shelly:generic" />
    </thing-type>
 
    <thing-type id="shellyplug">
        <label>Shelly Plug</label>
        <description>Shelly Plug device</description>
        <channel-groups>
            <channel-group id="relay1" typeId="relayChannel">
                <label>Relay</label>
            </channel-group>
            <channel-group id="meter1" typeId="simpleMeter">
                <label>Power Meter</label>
            </channel-group>
        </channel-groups>

        <config-description-ref uri="thing-type:shelly:generic" />
    </thing-type>
    <thing-type id="shellyplugs">
        <label>Shelly Plug-S (SHPLG-S)</label>
        <description>Shelly Plug-S</description>

        <channel-groups>
            <channel-group id="relay1" typeId="relayChannel">
                <label>Relay 1</label>
            </channel-group>
            <channel-group id="meter1" typeId="meter">
                <label>Power Meter Channel 1</label>
            </channel-group>
            <channel-group id="led" typeId="ledControl">
                <label>LED Control</label>
            </channel-group>
        </channel-groups>

        <config-description-ref uri="thing-type:shelly:generic" />
    </thing-type>
 
    <thing-type id="shellyht">
        <label>Shelly HT</label>
        <description>Shelly HT sensor device</description>

        <channel-groups>
            <channel-group id="sensor" typeId="htSensor">
                <label>Sensor Data</label>
            </channel-group>
            <channel-group id="battery" typeId="batteryStatus">
                <label>Battery Status</label>
            </channel-group>
        </channel-groups>

        <config-description-ref uri="thing-type:shelly:battery" />
    </thing-type>
 
    <thing-type id="shellysmoke">
        <label>Shelly Smoke</label>
        <description>Shelly Smoke sensor device</description>

        <channel-groups>
            <channel-group id="sensor" typeId="smokeSensor">
                <label>Sensor</label>
            </channel-group>
            <channel-group id="battery" typeId="batteryStatus">
                <label>Battery Status</label>
            </channel-group>
        </channel-groups>

        <config-description-ref uri="thing-type:shelly:battery" />
    </thing-type>
 

     <thing-type id="shellybulb">
        <label>Shelly Bulb - Color</label>
        <description>Shelly Bulb</description>
        <channel-groups>
            <channel-group id="bulb" typeId="bulbControl">
                <label>Bulb Control</label>
            </channel-group>
            <channel-group id="color" typeId="colorControl">
                <label>Color control</label>
            </channel-group>
            <channel-group id="white" typeId="colorWhiteMode">
                <label>White control</label>
            </channel-group>
            <channel-group id="meter" typeId="v1Meter">
                <label>Meter</label>
            </channel-group>
        </channel-groups>

        <config-description-ref uri="thing-type:shelly:generic" />
    </thing-type>
 
    <thing-type id="shellyrgbw2-color">
        <label>Shelly RGBW2 Color Mode</label>
        <description>Shelly RGBW2 Controller - Color Mode</description>

        <channel-groups>
            <channel-group id="color" typeId="colorControl">
                <label>Color Control</label>
            </channel-group>
        </channel-groups>

        <config-description-ref uri="thing-type:shelly:generic" />
    </thing-type>
 
    <thing-type id="shellyrgbw2-white">
        <label>Shelly RGBW2 White Mode</label>
        <description>Shelly RGBW2 Controller - White Mode</description>

        <channel-groups>
            <channel-group id="color" typeId="colorWhiteMode">
                <label>White Color Control</label>
            </channel-group>
        </channel-groups>

        <config-description-ref uri="thing-type:shelly:generic" />
    </thing-type>
 
   <channel-group-type id="relayChannel">
       <label>Relay channel</label>
       <description>A Shelly relay channel</description>
        <channels>
            <channel id="output" typeId="output" />
            <channel id="overpower" typeId="overpower" />
            <channel id="autoOn" typeId="timerAutoOn" />
            <channel id="autoOff" typeId="timerAutoOff" />
            <channel id="timerActive" typeId="timerActive" />
            <channel id="trigger" typeId="relayTrigger" />
        </channels>
   </channel-group-type>
   <channel-group-type id="rollerControl">
       <label>Roller Control</label>
       <description>Controlling teh Shelly2 in roller mode</description>
        <channels>
            <channel id="turn" typeId="rollerTurn" />
            <channel id="position" typeId="rollerPosition" />
            <channel id="direction" typeId="rollerDirection" />
            <channel id="stopReason" typeId="rollerStop" />
            <channel id="calibrating" typeId="rollerCalibrating" />
        </channels>
    </channel-group-type>

 
    <channel-type id="output">
        <item-type>Switch</item-type>
        <label>Output</label>
        <description>Control the relay output</description>
    </channel-type>
    <channel-group-type id="meter">
       <label>Power Meter</label>
       <description>Power consumption for the relay</description>
        <channels>
            <channel id="currentWatts" typeId="meterWatts" />
            <channel id="lastPower1" typeId="lastPower1" />
            <channel id="lastPower2" typeId="lastPower2" />
            <channel id="lastPower3" typeId="lastPower3" />
            <channel id="totalWatts" typeId="meterTotal" />
            <channel id="timestamp" typeId="meterTimestamp" />
            <channel id="maxPower" typeId="maxPower" />
        </channels>
    </channel-group-type>
   <channel-group-type id="simpleMeter">
       <label>Power Meter</label>
       <description>Power consumption</description>
        <channels>
            <channel id="currentWatts" typeId="meterWatts" />
            <channel id="totalWatts" typeId="meterTotal" />
            <channel id="maxPower" typeId="maxPower" />
        </channels>
    </channel-group-type>
   <channel-group-type id="v1Meter">
       <label>Power Meter</label>
       <description>Power consumption</description>
        <channels>
            <channel id="currentWatts" typeId="meterWatts" />
        </channels>
   </channel-group-type>
   <channel-group-type id="ledControl">
       <label>LED control</label>
       <description>Control the LEDs</description>
        <channels>
            <channel id="statusLed" typeId="ledStatusDisable" />
            <channel id="powerLed" typeId="ledPowerDisable" />
        </channels>
    </channel-group-type>

   <channel-group-type id="htSensor">
       <label>Sensor Data</label>
       <description>Data from the Sensor</description>
        <channels>
            <channel id="temperature" typeId="sensorTemp" />
            <channel id="tempUnit" typeId="sensorTempUnit" />
            <channel id="humidity" typeId="sensorHumidity" />
        </channels>
    </channel-group-type>
   <channel-group-type id="smokeSensor">
       <label>Sensor Data</label>
       <description>Data from the Sensor</description>
        <channels>
            <channel id="temperature" typeId="sensorTemp" />
            <channel id="unit" typeId="sensorTempUnit" />
        </channels>
    </channel-group-type>
   <channel-group-type id="batteryStatus">
       <label>Battery Status</label>
       <description>Stratus of the device's battery</description>
        <channels>
            <channel id="value" typeId="batValue" />
            <channel id="voltage" typeId="batVoltage" />
        </channels>
    </channel-group-type>

   <channel-group-type id="bulbControl">
       <label>Control</label>
       <description>Bulb control</description>
        <channels>
            <channel id="power" typeId="bulbPower" />
            <channel id="colorMode" typeId="colorMode" />
            <channel id="defaultState" typeId="defaultState" />
            <channel id="flipbackTimer" typeId="bulbTimer" />
            <channel id="autoOn" typeId="timerAutoOn" />
            <channel id="autoOff" typeId="timerAutoOff" />
            <channel id="timerActive" typeId="timerActive" />
        </channels>
    </channel-group-type>
    <channel-group-type id="colorControl">
       <label>Colors</label>
       <description>Light colors</description>
        <channels>
            <channel id="color" typeId="colorPicker" />
            <channel id="red" typeId="colorRed" />
            <channel id="green" typeId="colorGreen" />
            <channel id="blue" typeId="colorBlue" />
            <channel id="white" typeId="colorWhite" />
            <channel id="gain" typeId="colorGain" />
            <channel id="effect" typeId="colorEffect" />
        </channels>
    </channel-group-type>
    <channel-group-type id="colorWhiteMode">
       <label>White settings</label>
       <description>Adjust colors when bulb is in white mode</description>
        <channels>
            <channel id="brightness" typeId="colorBrightness" />
            <channel id="temperatur" typeId="colorTemp" />
            <channel id="effect" typeId="colorEffect" />
        </channels>
    </channel-group-type>

    <channel-type id="output">
        <item-type>Switch</item-type>
        <label>Output</label>
        <description>Control the relay output</description>
    </channel-type>
   <channel-type id="meterWatts">
        <item-type>Number</item-type>
        <label>Watt</label>
        <description>Current power consumption in Watt</description>
        <state readOnly="true">
        </state>
    </channel-type>
    <channel-type id="lastPower1">
        <item-type>Number</item-type>
        <label>Last Power #1</label>
        <description>Last power consumption #1 - one rounded minutet</description>
        <state readOnly="true">
        </state>
    </channel-type>
    <channel-type id="lastPower2">
        <item-type>Number</item-type>
        <label>Last Power #2</label>
        <description>Last power consumption #2 - one rounded minutet</description>
        <state readOnly="true">
        </state>
    </channel-type>
    <channel-type id="lastPower3">
        <item-type>Number</item-type>
        <label>Last Power #3</label>
        <description>Last power consumption #3 - one rounded minutet</description>
        <state readOnly="true">
        </state>
    </channel-type>
   <channel-type id="meterTotal">
        <item-type>Number</item-type>
        <label>Total Watt</label>
        <description>Total power consumption in Watt</description>
        <state readOnly="true">
        </state>
    </channel-type>
   <channel-type id="meterTimestamp">
        <item-type>String</item-type>
        <label>Last Update</label>
        <description>Timestamp of last measurement</description>
        <state readOnly="true">
        </state>
    </channel-type>
    <channel-type id="overpower">
        <item-type>Switch</item-type>
        <label>Overpower</label>
        <description>ON: Device detected an over power situation</description>
        <state readOnly="true">
        </state>
    </channel-type>
    <channel-type id="relayTrigger">
        <kind>trigger</kind>
        <label>Relay Event Trigger</label>
        <description>Triggers channel for events, type code be btn_on, btn_off, out_on, out_off</description>
        <event/>
    </channel-type>

    <channel-type id="rollerTurn">
        <item-type>String</item-type>
        <label>Roller Control</label>
        <description>Control the roller operation</description>
        <state readOnly="false">
            <options>
                <option value="open">open</option>
                <option value="stop">stop</option>
                <option value="close">close</option>
            </options>
        </state>
    </channel-type>
    <channel-type id="rollerPosition">
        <item-type>Number</item-type>
        <label>Roller Position</label>
        <description>Position the roller (0..100 in %, 0=open, 100=closed)</description>
    </channel-type>
    <channel-type id="rollerStop">
        <item-type>String</item-type>
        <label>Roller stop reason</label>
        <description>Last cause for stopping: normal, safety_switch, obstacle</description>
        <state readOnly="true">
            <options>
                <option value="normal">normal</option>
                <option value="safety_switch">safety switch</option>
                <option value="obstacle">obstacle detected</option>
            </options>
        </state>
    </channel-type>
    <channel-type id="rollerCalibrating">
        <item-type>Switch</item-type>
        <label>Calibrating</label>
        <description>ON: Roller is calibrating</description>
    </channel-type>
    
    <channel-type id="rollerDirection">
        <item-type>String</item-type>
        <label>Roller Direction</label>
        <description>Last direction: open or close</description>
        <state readOnly="true">
            <options>
                <option value="open">open</option>
                <option value="close">close</option>
            </options>
        </state>
    </channel-type>
    <channel-type id="ledStatusDisable">
        <item-type>Switch</item-type>
        <label>Disable Status LED</label>
        <description>Disable LED indication for network status</description>
    </channel-type>
    <channel-type id="ledPowerDisable">
        <item-type>Switch</item-type>
        <label>Disable Power LED</label>
        <description>Disable LED indication for output status</description>
    </channel-type>
    <channel-type id="maxPower">
        <item-type>Number</item-type>
        <label>Max Power</label>
        <description>Overpower threshold in Watts</description>
    </channel-type>

    <channel-type id="colorPicker">
        <item-type>Color</item-type>
        <label>Color Picker</label>
        <description>The color channel allows to control the color of a light.</description>
        <category>ColorLight</category>
        <tags>
            <tag>Lighting</tag>
        </tags>
    </channel-type>
    <channel-type id="colorRed">
        <item-type>Number</item-type>
        <label>Red</label>
        <description>red brightness, 0..255, applies in mode=color</description>
    </channel-type>
    <channel-type id="colorGreen">
        <item-type>Number</item-type>
        <label>Green</label>
        <description>green brightness, 0..255, applies in mode=color</description>
    </channel-type>
    <channel-type id="colorBlue">
        <item-type>Number</item-type>
        <label>Blue</label>
        <description>blue brightness, 0..255, applies in mode=color</description>
    </channel-type>
    <channel-type id="colorWhite">
        <item-type>Number</item-type>
        <label>White</label>
        <description>wrhite brightness, 0..255, applies in mode=color</description>
    </channel-type>
    <channel-type id="colorGain">
        <item-type>Number</item-type>
        <label>Gain</label>
        <description>gain for all channels, 0..100, applies in mode=color</description>
    </channel-type>
    <channel-type id="colorTemp">
        <item-type>Number</item-type>
        <label>Gain</label>
        <description>color temperature in K, 3000..6500, applies in mode=white</description>
    </channel-type>
    <channel-type id="colorBrightness">
        <item-type>Number</item-type>
        <label>Brightness</label>
        <description>brightness, 0..100, applies in mode=white</description>
    </channel-type>
    <channel-type id="colorEffect">
        <item-type>Number</item-type>
        <label>Effect</label>
        <description>Currently applied effect, description: 0: Off, 1: Meteor Shower, 2: Gradual Change, 3: Breath, 4: Flash, 5: On/Off Gradual, 6: Red/Green Change</description>
        <state readOnly="true">
            <options>
                <option value="0">Off</option>
                <option value="1">Meteor Shower</option>
                <option value="2">Gradual Change</option>
                <option value="3">Breath</option>
                <option value="4">Flash</option>
                <option value="5">On/Off Gradual</option>
                <option value="6">Red/Green Change</option>
            </options>
        </state>
    </channel-type>

    <channel-type id="bulbPower">
        <item-type>Switch</item-type>
        <label>Power</label>
        <description>Power ON/OFF</description>
    </channel-type>
    <channel-type id="colorMode">
        <item-type>Switch</item-type>
        <label>Color/White Mode</label>
        <description>ON: Bulb is in color mode, OFF: Bulb ist in White Mode</description>
    </channel-type>
    <channel-type id="defaultState">
        <item-type>Switch</item-type>
        <label>Default State</label>
        <description>one of on, off or last</description>
        <state>
            <options>
                <option value="on">ON</option>
                <option value="off">OFF</option>
                <option value="last">Last</option>
            </options>
        </state>
     </channel-type>
    <channel-type id="bulbTimer">
        <item-type>Number</item-type>
        <label>Flip-back Timer</label>
        <description>Automatic flip-back timer in seconds, used in combination with turn</description>
        <state readOnly="true">
        </state>
    </channel-type>
    <channel-type id="autoOn">
        <item-type>Number</item-type>
        <label>Auto-ON timer</label>
        <description>Sets a default timer to turn the bulb ON after every OFF command in seconds</description>
    </channel-type>
    <channel-type id="autoOff">
        <item-type>Number</item-type>
        <label>Auto-ON timer</label>
        <description>Sets a default timer to turn the bulb OFF after every ON command in seconds</description>
    </channel-type>

    <channel-type id="sensorTemp">
        <item-type>Number</item-type>
        <label>Temperature</label>
        <description>Temperature from the sensor</description>
        <state readOnly="true">
        </state>
    </channel-type>
    <channel-type id="sensorTempUnit">
        <item-type>String</item-type>
        <label>Temp Unit (C/F)</label>
        <description>Temperature from the sensor C=Celsius, F=Fahrenheit)</description>
        <state readOnly="true">
            <options>
                <option value="C">Celsius</option>
                <option value="F">Fahrehheit</option>
            </options>
        </state>
    </channel-type>
    <channel-type id="sensorHumidity">
        <item-type>Number</item-type>
        <label>Humidity</label>
        <description>Relative humidity in % (0..100%)</description>
        <state readOnly="true">
        </state>
    </channel-type>

    <channel-type id="batValue">
        <item-type>Number</item-type>
        <label>Battery capacity</label>
        <description>estimated remaining battery capacity in %</description>
        <state readOnly="true">
        </state>
    </channel-type>
    <channel-type id="batVoltage">
        <item-type>Number</item-type>
        <label>Battery voltage</label>
        <description>Battery voltage in V</description>
        <state readOnly="true">
        </state>
    </channel-type>

    <channel-type id="timerAutoOn">
        <item-type>Number</item-type>
        <label>Auto ON timer</label>
        <description>When Off - Turn On After xx seconds; 0 disables the timer</description>
        <state readOnly="true">
        </state>
    </channel-type>
    <channel-type id="timerAutoOff">
        <item-type>Number</item-type>
        <label>Auto OFF timer</label>
        <description>When ON - Turn On After xx seconds; 0 disables the timer</description>
        <state readOnly="true">
        </state>
    </channel-type>
    <channel-type id="timerActive">
        <item-type>Switch</item-type>
        <label>Auto ON/OFF timer active</label>
        <description>ON: A timer is active, OFF: no timer active</description>
        <state readOnly="true">
        </state>
    </channel-type>
</thing:thing-descriptions>
